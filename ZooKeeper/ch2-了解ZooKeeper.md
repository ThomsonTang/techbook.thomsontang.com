
## 反常识卡
- 常识：设计一个用于协作需求的服务的方法**往往是提供原语列表，暴露出每个原语的实例化调用方法，并直接控制这些实例**。例如，分布式锁机制组成了一个重要的原语，同时暴露出创建（create）、获取（acquire）和释放（release）三个调用方法。
- 反常识：上述的设计存在重大的缺陷：
	- 设计者必须预先提供一份详尽的原语列表，要么提供API的扩展，以便引入新的原语
	- 以这种方式实现原语的服务使得应用丧失了灵活性。
- 例子：ZooKeeper采用了其他的方式。
	- ZooKeeper并不直接暴露原语，而是暴露了一小部分调用方法组成的类似文件系统的API，以便允许应用实现自己的原语。
	- 我们通常使用**菜谱（recipes）**来表示这些原语的实现。菜谱包括ZooKeeper操作和维护一个小型的数据节点，这些节点被称为`znode`，采用类似于文件系统的层级树状结构进行管理。
	- 主从模式的数据结构示例图
	- 
